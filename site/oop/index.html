<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>OOP - JavascriptTutorial</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/book.css" rel="stylesheet">
        <link href="../css/course.css" rel="stylesheet">
        <link href="../css/video.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="..">JavascriptTutorial</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../install/">Installation</a>
                    </li>
                
                
                
                    <li >
                        <a href="../ide/">IDE</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Doc <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../basic_syntax/">Basic Syntax</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Structure</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../data_number/">Number</a>
</li>

        
            
<li >
    <a href="../data_string/">String</a>
</li>

        
            
<li >
    <a href="../data_collection/">Collection</a>
</li>

        
            
<li >
    <a href="../data_time/">Datetime</a>
</li>

        
            
<li >
    <a href="../data_boolean/">Boolean</a>
</li>

        
            
<li >
    <a href="../data_object/">Object</a>
</li>

        
    </ul>
  </li>

                        
                            
<li class="active">
    <a href="./">OOP</a>
</li>

                        
                            
<li >
    <a href="../networking/">Networking</a>
</li>

                        
                            
<li >
    <a href="../logging/">Logging</a>
</li>

                        
                            
<li >
    <a href="../documentation/">Documentation</a>
</li>

                        
                            
<li >
    <a href="../error_handling/">Error Handling</a>
</li>

                        
                            
<li >
    <a href="../testing/">Testing</a>
</li>

                        
                            
<li >
    <a href="../package_manager/">Package Manager</a>
</li>

                        
                            
<li >
    <a href="../build_tool/">Build Tool</a>
</li>

                        
                            
<li >
    <a href="../make_module/">Make Module</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../data_object/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../networking/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#1-classes-and-objects">1. Classes and Objects</a></li>
        
            <li><a href="#constructor">Constructor</a></li>
        
    
        <li class="main "><a href="#2-inheritance">2. Inheritance</a></li>
        
    
        <li class="main "><a href="#object-oriented-programming">Object-Oriented Programming</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p><img alt="" src="http://wearelaunchbox.com/wp-content/uploads/2012/11/oop-basics.png" /></p>
<h1 id="1-classes-and-objects">1. Classes and Objects</h1>
<h3 id="constructor">Constructor</h3>
<pre><code>function Ball(position){
    this.position = position;
    this.display = function(){
        console.log(this.position[0], &quot;, &quot;, this.position[1]);
    }
}

ball = new Ball([2, 3]);
ball.display();
</code></pre>

<h1 id="2-inheritance">2. Inheritance</h1>
<pre><code>Person = function (name, birthday, job) {
  this.name = name;
  this.birthday = birthday;
  this.job = job;
};

Person.prototype.display = function () {
  console.log(this.name, &quot;\n&quot;);
  console.log(this.birthday, &quot;\n&quot;);
  console.log(this.job, &quot;\n&quot;);
};

Politician = function (name, birthday) {
  Person.call(this, name, birthday, &quot;Politician&quot;);
};
Politician.prototype = Object.create(Person.prototype);
Politician.prototype.constructor = Politician;

var person1 = new Person(&quot;Barack Obama&quot;, &quot;04/08/1961&quot;, &quot;Politician&quot;);
var person2 = new Politician(&quot;David Cameron&quot;, &quot;09/10/1966&quot;);
person1.display();
person2.display();

</code></pre>

<h1 id="object-oriented-programming">Object-Oriented Programming</h1>
<pre><code class="javascript">var rabbit = {};
rabbit.speak = function(line){
console.log(&quot;The rabit says:'&quot; + line + &quot;'&quot;);
 };
rabbit.speak(&quot;I'm alive&quot;);

function speak(line){
   console.log(&quot;The &quot;+ this.type + &quot; rabbit says '&quot; + line + &quot;'&quot;);
 }

var whiteRabbit = {type: &quot;white&quot;, speak: speak};
var fatRabbit = {type: &quot;fat&quot;, speak: speak};
whiteRabbit.speak(&quot;Oh my ears and whiskers, &quot; + &quot;how late it's getting!&quot;);
fatRabbit.speak(&quot;I could sure use a carrot right now&quot;);

// Prototype
// Prototype is another object that is used as a fallback source of properties
// When object request a property that it does not have, its prototype will be searched for the property
var empty = {};
console.log(empty.toString);
console.log(empty.toString);

// Get prototype of an object 2 ways:
console.log(Object.getPrototypeOf({}) == Object.prototype);
console.log(Object.getPrototypeOf(Object.prototype));

// Using Object.create to create an object with an specific prototype
var protoRabbit = {
  speak: function(line){
    console.log(&quot;The &quot; + this.type + &quot; rabbit says '&quot; + line + &quot;'&quot;);
  }
};

var killerRabbit = Object.create(protoRabbit);
killerRabbit.type = &quot;Killer&quot;;
killerRabbit.speak(&quot;Skreeee!&quot;);

// Constructor
function Rabbit(type){
   this.type = type;
}
var killerRabbit = new Rabbit(&quot;Killer&quot;);
var blackRabbit = new Rabbit(&quot;black&quot;);
console.log(blackRabbit.type);

// using prototype to add a new method
Rabbit.prototype.speak = function(line) {
  console.log(&quot;The &quot; + this.type + &quot; rabit says '&quot; + line + &quot;'&quot;);
};
blackRabbit.speak(&quot;Doom...&quot;);


// OVERRIDING DERIVED PROPERTIES
Rabbit.prototype.teeth = &quot;small&quot;;
console.log(killerRabbit.teeth);

killerRabbit.teeth = &quot;Long, sharp, and bloody&quot;;
console.log(killerRabbit.teeth);
console.log(blackRabbit.teeth);
console.log(Rabbit.prototype.teeth);

// PROTOTYPE INTERFERENCE
// A prototype can be used at any time to add methods, properties
// to all objects based on it
Rabbit.prototype.dance = function (){
  console.log(&quot;The &quot; + this.type + &quot; rabbit dances a jig&quot;);
};
killerRabbit.dance();
// but there is a problem:
var map = {};
function storePhi(event, phi){
   map[event] = phi;
}

storePhi(&quot;pizza&quot;, 0.069);
storePhi(&quot;touched tree&quot;, -0.081);
console.log(map);

Object.prototype.nonsense = &quot;hi&quot;;
for (var name in map) {
  console.log(name);
}
console.log(&quot;nonsense&quot; in map);
console.log(&quot;toString&quot; in map);
delete Object.prototype.nonsense;
//  we can use Object.defineProperty to solve it
Object.defineProperty(Object.prototype, &quot;hiddenNonsense&quot;, {
   enumerable: false,
   value: &quot;hi&quot;
});

for (var name in map) {
  console.log(name);
}
console.log(map.hiddenNonsense);
// but there still has a problem
console.log(&quot;toString&quot; in map);
console.log(map.hasOwnProperty(&quot;toString&quot;));

// PROTOTYPE-LESS OBJECTS
// if we only want to create an fresh object, without prototype then we tranform null to create
var map = Object.create(null);
map[&quot;pizza&quot;] = 0.09;
console.log(&quot;toString&quot; in map);
console.log(&quot;pizza&quot; in map);

// POLYMORPHISM
// laying out a table: example for polymorphism
function rowHeights(rows) {
    return rows.map(function(row){
        return row.reduce(function(max, cell) {
            return Math.max(max, cell.minHeight());
        }, 0);
    });
}

function colWidths(rows) {
    return rows[0].map(function(_, i) {
        return rows.reduce(function(max, row){
            return Math.max(max, row[i].minWidth());
        }, 0);
    });
}

function drawTable(rows) {
    var heights = rowHeights(rows);
    var widths = colWidths(rows);

    function drawLine(blocks, lineNo) {
        return blocks.map(function(block) {
            return block[lineNo];
        }).join(&quot; &quot;);
    }

    function drawRow(row, rowNum){
        var blocks = row.map(function(cell, colNum) {
           return cell.draw(widths[colNum], heights[rowNum]);
        });
        return blocks[0].map(function(_, lineNo) {
            return drawLine(blocks, lineNo);
        }).join(&quot;\n&quot;);
    }

    return rows.map(drawRow).join(&quot;\n&quot;);
}

function repeat(string, times){
    var result = &quot;&quot;;
    for (var i = 0; i &lt; times; i++){
        result += string;
    }
    return result;
}

function TextCell(text){
    this.text = text.split(&quot;\n&quot;);
}
TextCell.prototype.minWidth = function(){
    return this.text.reduce(function(width, line){
        return Math.max(width, line.lenght);
    }, 0);
};
TextCell.prototype.minHeight = function(){
    return this.text.length;
}
TextCell.prototype.minHeight = function(){
    return this.text.lenght;
}
TextCell.prototype.minHeight = function(){
    return this.text.length;
}
TextCell.prototype.draw = function(width, height){
    var result = [];
    for (var i = 0; i &lt; height; i++){
        var line = this.text[i] || &quot;&quot;;
        result.push(line + repeat(&quot; &quot;, width - line.length));
    }
    return result;
}

var rows = [];
for (var i = 0; i &lt; 5; i++){
    var row = [];
    for (var j = 0; j &lt; 5; j++){
        if ((i + j) % 2 == 0){
            row.push(new TextCell(&quot;1234&quot;));
        } else{
            row.push(new TextCell(&quot;5&quot;));
        }
    }
    rows.push(row);
}
console.log(drawTable(rows));

// // GETTERS AND SETTERS
// var pile = {
//     elements: [&quot;eggshell&quot;, &quot;orange peel&quot;, &quot;worm&quot;],
//     get height(){
//         return this.elements.length;
//     },
//     set height(value) {
//         console.log(&quot;Ignoring attemp to set high to &quot;, value);
//     }
// };

// console.log(pile.height);
// pile.height = 100;
// console.log(pile.height);

</code></pre>

<p>[1]: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Introduction_to_Object-Oriented_JavaScript">Introduction to Object-Oriented JavaScript</a>
[2]: <a href="http://stackoverflow.com/a/15399594/772391">How to call parent constructor?</a></p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script>
        <script src="../js/underscore.js"></script>
        <script src="../js/gspreadsheet.js"></script>
        <script src="../js/book.js"></script>
        <script src="../js/course.js"></script>
        <script src="../js/video.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
